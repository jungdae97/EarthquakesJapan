<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>일본 지진 지도 (Google 로그인 필요)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="style.css" />
  <script type="module" src="firebase-auth.js"></script>
</head>
<body>
  <div id="auth-status" style="position: fixed; top: 10px; left: 10px; background: rgba(255,255,255,0.9); padding: 6px 10px; border-radius: 6px; z-index: 1100; font-size: 14px;">
    <span id="user-info">로그인 확인 중...</span>
    <button id="logout-btn" style="margin-left: 10px; display: none;">로그아웃</button>
  </div>
  <h2 style="text-align:center; padding-top: 100px;">로그인 상태 확인 중입니다...</h2>

<script type="module">
  import { initAuthStatus, logout } from "./firebase-auth.js";

  initAuthStatus({
    onLogin: () => {
      window.location.href = "earthquakesJapan-original.html";
    },
    onLogout: () => {
      window.location.href = "index.html";
    }
  });

  const logoutBtn = document.getElementById("logout-btn");
  if (logoutBtn) {
    logoutBtn.onclick = () => logout();
  }
</script>

</body>
</html>